<!-- views/pages/index.ejs -->

<!DOCTYPE html>
<html lang="en">
<head>
    <% include ../partials/head %>
</head>
<body class="container">

    <header>
        <% include ../partials/header %>
    </header>

    <main>
        <div id="main-container" class="container-fluid main-container">
            <% include ../partials/nadabid %>
        </div>
    </main>

    <footer>
        <% include ../partials/footer %>
    </footer>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../js/vendor/jquery.min.js"><\/script>')</script>
    <script src="../../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../js/ie10-viewport-bug-workaround.js"></script>
    <!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-57e55aa3a7e54542"></script>
<script src="../../js/socket.io.js"></script>
<script>
  var socket = io();

  function search(){
    var searchField = document.getElementById('searchbar');
    var searchTerm = searchField.value;
    socket.emit('search',searchTerm);
    //searchField.value='';
    searchField.focus();
  }

  socket.on('search-response',(data)=>{
    if (data) {
      var mainContainer = document.getElementById('main-container');
      mainContainer.innerHTML = data;
    }
  });

</script>
</body>
</html>
